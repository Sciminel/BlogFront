<div class="container">
  <div class="blog-list card">
    <div class="row">
      <form #formAddArticle="ngForm" (submit)="addArticle(formAddArticle)" enctype="multipart/form-data">

        <div class="input-field col s12">
          <input type="text" id="titre" ngModel name="titre" required />
          <label for="titre">Titre de l'article</label>
        </div>

        <div class="input-field col s12">
          <textarea name="contenu" id="contenu" class="materialize-textarea" ngModel></textarea> 
          <label for="contenu">Contenu de l'article</label>
        </div>

        <div class="file-field col s12 input-field">
          <div class="btn">
            <span>File</span>
            <input type="file" name="image" ngModel id="image" (change)="checkFile($event)">
          </div>
          <div class="file-path-wrapper">
            <input class="file-path validate" type="text"  placeholder="Ajouter une image">
          </div>
        </div>

        <div class="col s12">
          <button class="btn waves-effect waves-light" type="submit" [disabled]="formAddArticle.invalid">Ajouter un article</button>
        </div>

      </form>
    </div>
  </div>

  
  <ul class="collection">
    <li *ngFor="let article of articles" class="collection-item">
      <div class="card">
        <div class="card-content">
          <a class=" floating right delete-btn" (click)="deleteArticle(article.id)">
            <i class="small material-icons">clear</i>
          </a>
          <a class=" floating right" [routerLink]="['/article/update', article.id]">
            <i class="small material-icons">create</i>
          </a>

          <div>
            Nom : {{article.User.name}}
          </div>
          <div>
            <span class="card-title"> Titre : {{ article.titre }}</span>
          </div>
          Contenu : {{ article.contenu }}
        </div>
        <div class="card-image parent-size-img">
          <img [src]="article.image" class="size-img">
        </div>
        <app-comment [article]="article" (commentAdded)="onCommentAdded()"></app-comment>
      </div>
      </li>
    </ul>
    <!-- 
    <app-popup [article]="selectedArticle" (articleUpdated)="updateArticle($event)" *ngIf="selectedArticle"></app-popup>
      -->
  </div>
